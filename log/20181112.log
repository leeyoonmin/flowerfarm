#SQL#Product_model->getDisplayProductList #ByID # [2018-11-12 15:54:23] 

      SELECT
          A.PRODUCT_ID
        , A.PRODUCT_NAME
        , A.IMG_EXTENSION
        , A.PRODUCT_CATE_KIND
        , (SELECT CODE_NM FROM COMMON_CODE_TB WHERE WORK_DV = '상품정보' AND CODE_DV = '상품상세구분코드' AND CODE = A.PRODUCT_CATE_KIND) AS PRODUCT_CATE_KIND_NM
        , A.PRODUCT_CATE_SHAPE
        , A.PRODUCT_CATE_COLOR
        , A.PRODUCT_AMOUNT
        , B.PRODUCT_PRICE_CUNSUMER
        , B.PRODUCT_PRICE_WHOLESALE
        , CASE WHEN C.ORDER_AMOUNT IS NULL THEN 0 ELSE C.ORDER_AMOUNT END AS ORDER_AMOUNT
        FROM PRODUCT_TB A
          , (
              SELECT
                  BB.PRODUCT_ID
                , BB.PRODUCT_TIME
                , BB.PRODUCT_PRICE_CUNSUMER
                , BB.PRODUCT_PRICE_WHOLESALE
                FROM (SELECT PRODUCT_ID, MAX(PRODUCT_TIME) AS PRODUCT_TIME
                        FROM PRODUCT_PRICE_TB
                      GROUP BY PRODUCT_ID
                     ) AA
                  , PRODUCT_PRICE_TB BB
               WHERE AA.PRODUCT_ID = BB.PRODUCT_ID
                 AND AA.PRODUCT_TIME = BB.PRODUCT_TIME
               ) B LEFT JOIN (
             SELECT
              product_id
             , sum(order_amount) AS ORDER_AMOUNT
               FROM ORDER_ITEM_TB
             GROUP BY product_id
            ) C ON B.PRODUCT_ID = C.PRODUCT_ID
        WHERE A.PRODUCT_ID = B.PRODUCT_ID
         AND A.IS_SELL = 'Y'
         AND A.IS_DISPLAY = 'Y'
      
          AND A.PRODUCT_TYPE = '01'
        
          ORDER BY A.PRODUCT_NAME
        
        limit 0,20
      
==========================================================
		Result
==========================================================
10         | 34                                 | 13            | 17                | 20                   | 18                 | 18                 | 14             | 22                     | 23                      | 12           | 
PRODUCT_ID | PRODUCT_NAME                       | IMG_EXTENSION | PRODUCT_CATE_KIND | PRODUCT_CATE_KIND_NM | PRODUCT_CATE_SHAPE | PRODUCT_CATE_COLOR | PRODUCT_AMOUNT | PRODUCT_PRICE_CUNSUMER | PRODUCT_PRICE_WHOLESALE | ORDER_AMOUNT | 
000262     | 공작초_화이트                | JPG           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 1            | 
000736     | 굿초이스 장미                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 1            | 
000839     | 그라불르스                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 0            | 
000757     | 그레이스 장미                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11500                  | 10500                   | 0            | 
000840     | 그린말채                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 7000                   | 6000                    | 0            | 
000838     | 그린벨                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 13000                  | 12000                   | 0            | 
000737     | 글라디올러스_핑크          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 1            | 
000824     | 글로리오사                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 0            | 
000040     | 나이팅게일 장미             | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 12000                  | 11000                   | 1            | 
000842     | 낙산홍                          | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 8000                   | 7000                    | 0            | 
000775     | 네츄럴가든 장미             | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 17000                  | 16000                   | 0            | 
000762     | 다르시 장미                   | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 22000                  | 21000                   | 0            | 
000862     | 다알리아_오렌지             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 8000                   | 7000                    | 0            | 
000863     | 다알리아_자주                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000864     | 다알리아_피치                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000865     | 다알리아_핑크                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000861     | 다알리아_화이트             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 6000                   | 5000                    | 1            | 
000763     | 다이아몬드 장미             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 1            | 
000764     | 달리 장미                      | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 1            | 
000776     | 덴파레_보라_봉지(200송이) | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 132000                 | 131000                  | 0            | 
#SQL#Product_model->getDisplayProductCount #ByID # [2018-11-12 15:54:23] 

      SELECT
          A.PRODUCT_ID
        , A.PRODUCT_NAME
        , A.IMG_EXTENSION
        , A.PRODUCT_CATE_KIND
        , (SELECT CODE_NM FROM COMMON_CODE_TB WHERE WORK_DV = '상품정보' AND CODE_DV = '상품상세구분코드' AND CODE = A.PRODUCT_CATE_KIND) AS PRODUCT_CATE_KIND_NM
        , A.PRODUCT_CATE_SHAPE
        , A.PRODUCT_CATE_COLOR
        , A.PRODUCT_AMOUNT
        , B.PRODUCT_PRICE_CUNSUMER
        , B.PRODUCT_PRICE_WHOLESALE
        , CASE WHEN C.ORDER_AMOUNT IS NULL THEN 0 ELSE C.ORDER_AMOUNT END AS ORDER_AMOUNT
        FROM PRODUCT_TB A
          , (
              SELECT
                  BB.PRODUCT_ID
                , BB.PRODUCT_TIME
                , BB.PRODUCT_PRICE_CUNSUMER
                , BB.PRODUCT_PRICE_WHOLESALE
                FROM (SELECT PRODUCT_ID, MAX(PRODUCT_TIME) AS PRODUCT_TIME
                        FROM PRODUCT_PRICE_TB
                      GROUP BY PRODUCT_ID
                     ) AA
                  , PRODUCT_PRICE_TB BB
               WHERE AA.PRODUCT_ID = BB.PRODUCT_ID
                 AND AA.PRODUCT_TIME = BB.PRODUCT_TIME
               ) B LEFT JOIN (
             SELECT
              product_id
             , sum(order_amount) AS ORDER_AMOUNT
               FROM ORDER_ITEM_TB
             GROUP BY product_id
            ) C ON B.PRODUCT_ID = C.PRODUCT_ID
        WHERE A.PRODUCT_ID = B.PRODUCT_ID
         AND A.IS_SELL = 'Y'
         AND A.IS_DISPLAY = 'Y'
      
          AND A.PRODUCT_TYPE = '01'
        
          ORDER BY A.PRODUCT_NAME
        
==========================================================
		Result
==========================================================
10         | 38                                     | 13            | 17                | 20                   | 18                 | 18                 | 14             | 22                     | 23                      | 12           | 
PRODUCT_ID | PRODUCT_NAME                           | IMG_EXTENSION | PRODUCT_CATE_KIND | PRODUCT_CATE_KIND_NM | PRODUCT_CATE_SHAPE | PRODUCT_CATE_COLOR | PRODUCT_AMOUNT | PRODUCT_PRICE_CUNSUMER | PRODUCT_PRICE_WHOLESALE | ORDER_AMOUNT | 
000262     | 공작초_화이트                    | JPG           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 1            | 
000736     | 굿초이스 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 1            | 
000839     | 그라불르스                        | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 0            | 
000757     | 그레이스 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11500                  | 10500                   | 0            | 
000840     | 그린말채                           | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 7000                   | 6000                    | 0            | 
000838     | 그린벨                              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 13000                  | 12000                   | 0            | 
000737     | 글라디올러스_핑크              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 1            | 
000824     | 글로리오사                        | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 0            | 
000040     | 나이팅게일 장미                 | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 12000                  | 11000                   | 1            | 
000842     | 낙산홍                              | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 8000                   | 7000                    | 0            | 
000775     | 네츄럴가든 장미                 | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 17000                  | 16000                   | 0            | 
000762     | 다르시 장미                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 22000                  | 21000                   | 0            | 
000862     | 다알리아_오렌지                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 8000                   | 7000                    | 0            | 
000863     | 다알리아_자주                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000864     | 다알리아_피치                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000865     | 다알리아_핑크                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000861     | 다알리아_화이트                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 6000                   | 5000                    | 1            | 
000763     | 다이아몬드 장미                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 1            | 
000764     | 달리 장미                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 1            | 
000776     | 덴파레_보라_봉지(200송이)     | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 132000                 | 131000                  | 0            | 
000777     | 덴파레_보라_수입                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000778     | 덴파레_연보라_수입             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000779     | 덴파레_화이트_봉지(200송이)  | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 0            | 
000780     | 덴파레_화이트_수입             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000781     | 돌세토 장미                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 19000                  | 18000                   | 0            | 
000782     | 디디스커스                        | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 13000                  | 12000                   | 0            | 
000843     | 딤플 장미                          | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 10000                  | 9000                    | 1            | 
000472     | 라벤다                              | JPG           | 01                | 장미               | 01                 | 21D47E             | 50             | 0                      | 0                       | 1            | 
000620     | 라벤더레이스 장미              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 1            | 
000784     | 레드레이스 장미                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 28000                  | 27000                   | 0            | 
000749     | 레드베리                           | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 8000                   | 7000                    | 0            | 
000765     | 레드윙 장미                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000504     | 레몬트리                           | JPG           | 01                | 장미               | 01                 | 21D47E             | 50             | 6000                   | 5000                    | 0            | 
000812     | 리시안셔스_연핑크              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 17000                  | 16000                   | 0            | 
000753     | 마릴린먼로 장미                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000750     | 멕시칸세이지                     | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000786     | 모네 장미                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 19000                  | 18000                   | 0            | 
000787     | 모카라_노랑_수입                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000788     | 모카라_라벤더_수입             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000789     | 모카라_버건디_수입             | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 10000                  | 9000                    | 0            | 
000790     | 모카라_보라(점박이)_수입     | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000791     | 모카라_보라_수입                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000825     | 미니퐁퐁_화이트                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000792     | 미모사                              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 0            | 
000740     | 미스터버벌 장미                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000043     | 미스홀랜드 장미                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000065     | 발퀴레 장미                       | JPG           | 01                | 장미               | 01                 | FA9DDD             | 50             | 20000                  | 19000                   | 0            | 
000249     | 백일홍                              | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 9000                   | 8000                    | 0            | 
000797     | 백합_메두사                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 0            | 
000798     | 백합_시베리아                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000844     | 베니스보덴                        | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 18000                  | 17000                   | 0            | 
000799     | 베로니카_라벤더                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000800     | 베로니카_연라벤더              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000766     | 벨리자 장미                       | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 11000                  | 10000                   | 0            | 
000767     | 보라잔디                           | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 0            | 
000578     | 불로초                              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 6000                   | 5000                    | 0            | 
000325     | 브루니아                           | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 13000                  | 12000                   | 0            | 
000759     | 블랙뷰티장미                     | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000005     | 비탈 장미                          | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 14000                  | 13000                   | 0            | 
000756     | 빅토리아 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 18000                  | 17000                   | 0            | 
000624     | 사루비아_블루                    | jpg           | 01                | 장미               | 01                 | 3B8EF0             | 50             | 9000                   | 8000                    | 0            | 
000748     | 사포라(보라)                      | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000747     | 사포라(핑크)                      | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000014     | 사피아잼 장미                    | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 20000                  | 19000                   | 0            | 
000606     | 샤먼트 장미                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000801     | 석모초                              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000730     | 소국 슈팅스타_초록심_주황   | jpg           | 01                | 장미               | 01                 | FF8B2B             | 50             | 0                      | 0                       | 0            | 
000785     | 소국_마도리카_수입             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000860     | 소국_슈가스타                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 7000                   | 6000                    | 0            | 
000822     | 소국_아르거스_보라             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 6500                   | 5500                    | 0            | 
000086     | 소국_프로기_그린                | jpg           | 01                | 장미               | 01                 | 21D47E             | 50             | 7000                   | 6000                    | 0            | 
000719     | 수국_라벤더_네덜란드          | jpg           | 01                | 장미               | 01                 | 3B8EF0             | 50             | 0                      | 0                       | 0            | 
000827     | 수국_블루_국산                   | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000721     | 수국_핑크_국산                   | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000813     | 수국_화이트_국산                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000587     | 스완그레이스 장미              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 0            | 
000028     | 스윗핑크(자나신종) 장미      | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 20000                  | 19000                   | 0            | 
000802     | 스카비오사_화이트_수입       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 22000                  | 21000                   | 0            | 
000742     | 시네신스_그린                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 13000                  | 12000                   | 0            | 
000846     | 신비디움_옐로우                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000722     | 실거베라_오렌지_검정심       | jpg           | 01                | 장미               | 01                 | FF8B2B             | 50             | 0                      | 0                       | 0            | 
000743     | 실거베라_자주                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000117     | 실거베라_핑크                    | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 12000                  | 11000                   | 0            | 
000845     | 심비디움_마조리카              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000554     | 싱글몬트 장미                    | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 0                      | 0                       | 0            | 
000622     | 아미초                              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000760     | 아이스윙 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 17000                  | 16000                   | 0            | 
000482     | 에뮤페더                           | JPG           | 01                | 장미               | 01                 | 21D47E             | 50             | 7000                   | 6000                    | 0            | 
000847     | 여우얼굴                           | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000848     | 왕버들                              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 8000                   | 7000                    | 0            | 
000803     | 웨딩슈즈 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 24000                  | 23000                   | 0            | 
000849     | 유칼립_씨드                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000751     | 인터레이장미_피치              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000752     | 인터레이장미_핑크              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000588     | 장미_펀치볼                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 0            | 
000850     | 정말채                              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 7000                   | 6000                    | 0            | 
000511     | 조                                    | jpg           | 01                | 장미               | 01                 | 21D47E             | 50             | 0                      | 0                       | 0            | 
000768     | 줄리엣 장미                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 27000                  | 26000                   | 0            | 
000769     | 쥬디 장미                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 17000                  | 16000                   | 0            | 
000416     | 천일홍_보라                       | JPG           | 01                | 장미               | 01                 | D079FF             | 50             | 9000                   | 8000                    | 0            | 
000726     | 천일홍_연핑크                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 0            | 
000415     | 천일홍_핑크                       | JPG           | 01                | 장미               | 01                 | FA9DDD             | 50             | 9000                   | 8000                    | 0            | 
000553     | 촛불 맨드라미_진핑크          | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 0                      | 0                       | 0            | 
000077     | 카네이션_마리포사              | jpg           | 06                | 카네이션         | 01                 | FA9DDD             | 50             | 14000                  | 13000                   | 0            | 
000585     | 카라_보라                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 13000                  | 12000                   | 0            | 
000407     | 카라_화이트                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000805     | 캄파넬라 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000770     | 크림장미_스프레이              | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 17000                  | 16000                   | 0            | 
000712     | 클라란스 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 0            | 
000771     | 클라우드 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 13000                  | 12000                   | 0            | 
000625     | 클레마티스_블루                 | jpg           | 01                | 장미               | 01                 | 3B8EF0             | 50             | 0                      | 0                       | 0            | 
000713     | 키위 장미                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000826     | 타이거아이                        | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 7000                   | 6000                    | 0            | 
000772     | 탑기어 장미                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000857     | 튤립_연핑크                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000854     | 튤립_연핑크별                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 17000                  | 16000                   | 0            | 
000856     | 튤립_주황겹                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000773     | 트로피칼레인 장미_스프레이 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 20000                  | 19000                   | 0            | 
000124     | 파스타거베라_크림              | JPG           | 01                | 장미               | 01                 | FFEC3E             | 50             | 14000                  | 13000                   | 0            | 
000476     | 페니쿰                              | JPG           | 01                | 장미               | 01                 | 21D47E             | 50             | 8000                   | 7000                    | 0            | 
000755     | 포비 장미                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000127     | 퐁퐁_옐로우                       | jpg           | 01                | 장미               | 01                 | FFEC3E             | 50             | 9000                   | 8000                    | 0            | 
000125     | 퐁퐁_화이트                       | JPG           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000806     | 피아노장미_연핑크_국산       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 19000                  | 18000                   | 0            | 
000807     | 피아노장미_진핑크_국산       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 19000                  | 18000                   | 0            | 
000547     | 핑크뮬리                           | JPG           | 01                | 장미               | 01                 | 21D47E             | 50             | 0                      | 0                       | 0            | 
000808     | 핑크하트 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000246     | 해바라기                           | jpg           | 01                | 장미               | 01                 | FFEC3E             | 50             | 7000                   | 6000                    | 0            | 
000754     | 해바라기_레모네이드           | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 0            | 
000774     | 호놀룰루 장미                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000615     | 후룩스_화이트                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000555     | 히아신스 블루                    | jpg           | 01                | 장미               | 01                 | 3B8EF0             | 50             | 12000                  | 11000                   | 0            | 
000556     | 히아신스_핑크                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
#SQL#Product_model->getDisplayProductList #ByID # [2018-11-12 15:54:24] 

      SELECT
          A.PRODUCT_ID
        , A.PRODUCT_NAME
        , A.IMG_EXTENSION
        , A.PRODUCT_CATE_KIND
        , (SELECT CODE_NM FROM COMMON_CODE_TB WHERE WORK_DV = '상품정보' AND CODE_DV = '상품상세구분코드' AND CODE = A.PRODUCT_CATE_KIND) AS PRODUCT_CATE_KIND_NM
        , A.PRODUCT_CATE_SHAPE
        , A.PRODUCT_CATE_COLOR
        , A.PRODUCT_AMOUNT
        , B.PRODUCT_PRICE_CUNSUMER
        , B.PRODUCT_PRICE_WHOLESALE
        , CASE WHEN C.ORDER_AMOUNT IS NULL THEN 0 ELSE C.ORDER_AMOUNT END AS ORDER_AMOUNT
        FROM PRODUCT_TB A
          , (
              SELECT
                  BB.PRODUCT_ID
                , BB.PRODUCT_TIME
                , BB.PRODUCT_PRICE_CUNSUMER
                , BB.PRODUCT_PRICE_WHOLESALE
                FROM (SELECT PRODUCT_ID, MAX(PRODUCT_TIME) AS PRODUCT_TIME
                        FROM PRODUCT_PRICE_TB
                      GROUP BY PRODUCT_ID
                     ) AA
                  , PRODUCT_PRICE_TB BB
               WHERE AA.PRODUCT_ID = BB.PRODUCT_ID
                 AND AA.PRODUCT_TIME = BB.PRODUCT_TIME
               ) B LEFT JOIN (
             SELECT
              product_id
             , sum(order_amount) AS ORDER_AMOUNT
               FROM ORDER_ITEM_TB
             GROUP BY product_id
            ) C ON B.PRODUCT_ID = C.PRODUCT_ID
        WHERE A.PRODUCT_ID = B.PRODUCT_ID
         AND A.IS_SELL = 'Y'
         AND A.IS_DISPLAY = 'Y'
      
          AND A.PRODUCT_TYPE = '01'
        
          ORDER BY A.PRODUCT_NAME
        
        limit 20,20
      
==========================================================
		Result
==========================================================
10         | 37                                    | 13            | 17                | 20                   | 18                 | 18                 | 14             | 22                     | 23                      | 12           | 
PRODUCT_ID | PRODUCT_NAME                          | IMG_EXTENSION | PRODUCT_CATE_KIND | PRODUCT_CATE_KIND_NM | PRODUCT_CATE_SHAPE | PRODUCT_CATE_COLOR | PRODUCT_AMOUNT | PRODUCT_PRICE_CUNSUMER | PRODUCT_PRICE_WHOLESALE | ORDER_AMOUNT | 
000777     | 덴파레_보라_수입               | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000778     | 덴파레_연보라_수입            | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000779     | 덴파레_화이트_봉지(200송이) | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 0            | 
000780     | 덴파레_화이트_수입            | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 16000                  | 15000                   | 0            | 
000781     | 돌세토 장미                      | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 19000                  | 18000                   | 0            | 
000782     | 디디스커스                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 13000                  | 12000                   | 0            | 
000843     | 딤플 장미                         | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 10000                  | 9000                    | 1            | 
000472     | 라벤다                             | JPG           | 01                | 장미               | 01                 | 21D47E             | 50             | 0                      | 0                       | 1            | 
000620     | 라벤더레이스 장미             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 1            | 
000784     | 레드레이스 장미                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 28000                  | 27000                   | 0            | 
000749     | 레드베리                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 8000                   | 7000                    | 0            | 
000765     | 레드윙 장미                      | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000504     | 레몬트리                          | JPG           | 01                | 장미               | 01                 | 21D47E             | 50             | 6000                   | 5000                    | 0            | 
000812     | 리시안셔스_연핑크             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 17000                  | 16000                   | 0            | 
000753     | 마릴린먼로 장미                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000750     | 멕시칸세이지                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000786     | 모네 장미                         | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 19000                  | 18000                   | 0            | 
000787     | 모카라_노랑_수입               | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000788     | 모카라_라벤더_수입            | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000789     | 모카라_버건디_수입            | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 10000                  | 9000                    | 0            | 
#SQL#Product_model->getDisplayProductList #ByID # [2018-11-12 15:54:25] 

      SELECT
          A.PRODUCT_ID
        , A.PRODUCT_NAME
        , A.IMG_EXTENSION
        , A.PRODUCT_CATE_KIND
        , (SELECT CODE_NM FROM COMMON_CODE_TB WHERE WORK_DV = '상품정보' AND CODE_DV = '상품상세구분코드' AND CODE = A.PRODUCT_CATE_KIND) AS PRODUCT_CATE_KIND_NM
        , A.PRODUCT_CATE_SHAPE
        , A.PRODUCT_CATE_COLOR
        , A.PRODUCT_AMOUNT
        , B.PRODUCT_PRICE_CUNSUMER
        , B.PRODUCT_PRICE_WHOLESALE
        , CASE WHEN C.ORDER_AMOUNT IS NULL THEN 0 ELSE C.ORDER_AMOUNT END AS ORDER_AMOUNT
        FROM PRODUCT_TB A
          , (
              SELECT
                  BB.PRODUCT_ID
                , BB.PRODUCT_TIME
                , BB.PRODUCT_PRICE_CUNSUMER
                , BB.PRODUCT_PRICE_WHOLESALE
                FROM (SELECT PRODUCT_ID, MAX(PRODUCT_TIME) AS PRODUCT_TIME
                        FROM PRODUCT_PRICE_TB
                      GROUP BY PRODUCT_ID
                     ) AA
                  , PRODUCT_PRICE_TB BB
               WHERE AA.PRODUCT_ID = BB.PRODUCT_ID
                 AND AA.PRODUCT_TIME = BB.PRODUCT_TIME
               ) B LEFT JOIN (
             SELECT
              product_id
             , sum(order_amount) AS ORDER_AMOUNT
               FROM ORDER_ITEM_TB
             GROUP BY product_id
            ) C ON B.PRODUCT_ID = C.PRODUCT_ID
        WHERE A.PRODUCT_ID = B.PRODUCT_ID
         AND A.IS_SELL = 'Y'
         AND A.IS_DISPLAY = 'Y'
      
          AND A.PRODUCT_TYPE = '01'
        
          ORDER BY A.PRODUCT_NAME
        
        limit 40,20
      
==========================================================
		Result
==========================================================
10         | 34                                 | 13            | 17                | 20                   | 18                 | 18                 | 14             | 22                     | 23                      | 12           | 
PRODUCT_ID | PRODUCT_NAME                       | IMG_EXTENSION | PRODUCT_CATE_KIND | PRODUCT_CATE_KIND_NM | PRODUCT_CATE_SHAPE | PRODUCT_CATE_COLOR | PRODUCT_AMOUNT | PRODUCT_PRICE_CUNSUMER | PRODUCT_PRICE_WHOLESALE | ORDER_AMOUNT | 
000790     | 모카라_보라(점박이)_수입 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000791     | 모카라_보라_수입            | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000825     | 미니퐁퐁_화이트             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 10000                  | 9000                    | 0            | 
000792     | 미모사                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 15000                  | 14000                   | 0            | 
000740     | 미스터버벌 장미             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000043     | 미스홀랜드 장미             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 12000                  | 11000                   | 0            | 
000065     | 발퀴레 장미                   | JPG           | 01                | 장미               | 01                 | FA9DDD             | 50             | 20000                  | 19000                   | 0            | 
000249     | 백일홍                          | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 9000                   | 8000                    | 0            | 
000797     | 백합_메두사                   | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 0            | 
000798     | 백합_시베리아                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000844     | 베니스보덴                    | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 18000                  | 17000                   | 0            | 
000799     | 베로니카_라벤더             | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000800     | 베로니카_연라벤더          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 11000                  | 10000                   | 0            | 
000766     | 벨리자 장미                   | jpg           | 01                | 장미               | 01                 | FA9DDD             | 50             | 11000                  | 10000                   | 0            | 
000767     | 보라잔디                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 9000                   | 8000                    | 0            | 
000578     | 불로초                          | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 6000                   | 5000                    | 0            | 
000325     | 브루니아                       | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 13000                  | 12000                   | 0            | 
000759     | 블랙뷰티장미                 | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 14000                  | 13000                   | 0            | 
000005     | 비탈 장미                      | jpg           | 01                | 장미               | 01                 | F04E4E             | 50             | 14000                  | 13000                   | 0            | 
000756     | 빅토리아 장미                | jpg           | 01                | 장미               | 01                 | FFFFFF             | 50             | 18000                  | 17000                   | 0            | 
